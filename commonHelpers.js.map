{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst API_KEY = \"42651463-7e9bc4d6a898bed570bd4622e\";\nconst BaseUrl = \"https://pixabay.com/api/\";\nconst loader = document.querySelector('.loader');\n\nexport function searchImages(searchQuery) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: searchQuery,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    })\n    loader.style.display = 'block';\n\n    return fetch(`${BaseUrl}?${params}`)\n        .then(response => {\n        if (!response.ok) {\n            throw new Error ('Network response was not OK');\n        }\n        return response.json();\n    })\n        .then(data => {\n            loader.style.display = 'none';\n        if (data.hits.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                fontSize: 'large',\n                close: false,\n                position: 'topRight',\n                messageColor: 'white',\n                timeout: 2000,\n                backgroundColor: 'red',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n        }\n        return data;\n    })\n        .catch(error => console.error(error));\n}\n","export function createMarkup(data) {\n    return data.hits.map(\n    element => `<div class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${element.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${element.webformatURL}\" alt=\"${element.tags}\">\n      </a>\n      <div class=\"gallery-image-info\">\n          <p class=\"image-info-item\"><span class=\"items-text\">Likes: </span>${element.likes}</p>\n          <p class=\"image-info-item\"><span class=\"items-text\">Views: </span>${element.views}</p>\n          <p class=\"image-info-item\"><span class=\"items-text\">Comments: </span>${element.comments}</p>\n          <p class=\"image-info-item\"><span class=\"items-text\">Downloads: </span>${element.downloads}</p>\n      </div>\n  </div>`\n).join('')\n}","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".search-form\")\nconst galleryContainer = document.querySelector(\".gallery\")\nimport { searchImages } from \"./js/pixabay-api.js\";\nimport { createMarkup} from \"./js/render-functions.js\";\nlet searchQuery = \"\";\nconst lightbox = new SimpleLightbox('.gallery-link', { \n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 200,\n});\n\n\nform.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    galleryContainer.innerHTML = \"\";\n    searchQuery = form.elements.searchQuery.value.trim(),\n     searchImages(searchQuery).then(data => {\n        const markup = createMarkup(data)\n  galleryContainer.insertAdjacentHTML('beforeend', markup)\n        lightbox.refresh()\n     }).catch(error =>console.log(error))\n}"],"names":["API_KEY","BaseUrl","loader","searchImages","searchQuery","params","response","data","iziToast","error","createMarkup","element","form","galleryContainer","lightbox","SimpleLightbox","onSubmit","event","markup"],"mappings":"6vBAGA,MAAMA,EAAU,qCACVC,EAAU,2BACVC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAaC,EAAa,CACtC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKL,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAAF,EAAO,MAAM,QAAU,QAEhB,MAAM,GAAGD,CAAO,IAAII,CAAM,EAAE,EAC9B,KAAKC,GAAY,CAClB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAO,6BAA6B,EAElD,OAAOA,EAAS,MACxB,CAAK,EACI,KAAKC,IACFL,EAAO,MAAM,QAAU,OACvBK,EAAK,KAAK,SAAW,GACrBC,EAAS,MAAM,CACX,MAAO,QACP,SAAU,QACV,MAAO,GACP,SAAU,WACV,aAAc,QACd,QAAS,IACT,gBAAiB,MACjB,QAAS,0EACzB,CAAa,EAEED,EACV,EACI,MAAME,GAAS,QAAQ,MAAMA,CAAK,CAAC,CAC5C,CCzCO,SAASC,EAAaH,EAAM,CAC/B,OAAOA,EAAK,KAAK,IACjBI,GAAW;AAAA,sCACuBA,EAAQ,aAAa;AAAA,4CACfA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,8EAGRA,EAAQ,KAAK;AAAA,8EACbA,EAAQ,KAAK;AAAA,iFACVA,EAAQ,QAAQ;AAAA,kFACfA,EAAQ,SAAS;AAAA;AAAA,SAGnG,EAAE,KAAK,EAAE,CACT,CCVA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAmB,SAAS,cAAc,UAAU,EAG1D,IAAIT,EAAc,GAClB,MAAMU,EAAW,IAAIC,EAAe,gBAAiB,CACjD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAC,EAGDH,EAAK,iBAAiB,SAAUI,CAAQ,EAExC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpBJ,EAAiB,UAAY,GAC7BT,EAAcQ,EAAK,SAAS,YAAY,MAAM,KAAM,EACnDT,EAAaC,CAAW,EAAE,KAAKG,GAAQ,CACpC,MAAMW,EAASR,EAAaH,CAAI,EACtCM,EAAiB,mBAAmB,YAAaK,CAAM,EACjDJ,EAAS,QAAS,CAC1B,CAAM,EAAE,MAAML,GAAQ,QAAQ,IAAIA,CAAK,CAAC,CACxC"}